<form id="postForm" enctype="multipart/form-data">
  <div class="modal fade bd-example-modal-lg addPosts" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
      <div class="modal-content">
        <h4>Create new Post</h4>
        <hr>
        <div>
          <div class="mb-2 d-flex justify-content-center">
            <img id="selectedImage" src="../static/img/image_icon.png" alt="example placeholder" style="width: 200px;" />
          </div>
          <div class="d-flex justify-content-center">
            <div class="btn btn-primary btn-rounded">
              <label class="form-label text-white" for="postimage">Choose file</label>
              <input type="file" class="form-control d-none" id="postimage" name="postImage" accept="image/*" onchange="displaySelectedImage(event, 'selectedImage')" />
            </div>
          </div>
          <div class="ms-2 mt-3 mb-5 row justify-content-center">
            <div class="col-md-2">
              <button onclick="postImages(event)" type="submit" class="btn btn-primary me-2">Post</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</form>

<script>
  function displaySelectedImage(event, elementId) {
    const selectedImage = document.getElementById(elementId);
    const fileInput = event.target;

    if (fileInput.files && fileInput.files[0]) {
      const reader = new FileReader();

      reader.onload = function (e) {
        selectedImage.src = e.target.result;
      };

      reader.readAsDataURL(fileInput.files[0]);
    }
  }
</script>
